<?php

$owner = elgg_get_logged_in_user_guid();

$opt[$vars['idea']['sum']] = 'checked';

if ( $vars['idea']['sum'] == '0' || $vars['idea']['sum'] == '' ) $opt[0] = 'hidden';
echo elgg_view('input/button', array('name' => 'rate-0', 'value' => '0', 'class' => 'rate-0 ' . $opt[0]));
echo elgg_view('input/button', array('name' => 'rate-1', 'value' => '1', 'class' => 'rate-1 ' . $opt[1]));
echo elgg_view('input/button', array('name' => 'rate-2', 'value' => '2', 'class' => 'rate-2 ' . $opt[2]));
echo elgg_view('input/button', array('name' => 'rate-3', 'value' => '3', 'class' => 'rate-3 ' . $opt[3]));

/*
 * @uses $vars['value']    The current value, if any
 * @uses $vars['name']     The name of the input field
 * @uses $vars['options']  An array of strings representing the options for the
 *                         radio field as "label" => option
 * @uses $vars['class']    Additional class of the list. Optional.
 * @uses $vars['align']    'horizontal' or 'vertical' Default: 'vertical'*/
?>




<?php
/*
// Get tab and column
$tab = $vars['deck-river']['tab'];
$column = $vars['deck-river']['column'];
$new = $vars['deck-river']['new'];
// Get the settings of the current user
$owner = elgg_get_logged_in_user_guid();
$user_river_options = unserialize(get_private_setting($owner, 'deck_river_settings'));
$user_river_column_options = $user_river_options[$tab][$column];
?>

<?php echo elgg_view('input/hidden', array('name' => 'column', 'value' => $column)); ?>
<?php echo elgg_view('input/hidden', array('name' => 'tab', 'value' => $tab)); ?>

<div class='elgg-head'>
	<h3><?php echo elgg_echo('deck_river:settings', array($user_river_column_options['title'])); ?></h3>
	<?php
		$params = array(
			'text' => elgg_view_icon('delete-alt'),
		);
		echo elgg_view('output/url', $params);
	?>
</div>

<div id='deck-column-settings'>
	<div class='filter'>
		<label><?php echo elgg_echo('deck_river:filter'); ?></label><br />
		<?php
		// create checkboxes array
		$types_value = array();
		$registered_entities = elgg_get_config('registered_entities');
		$types_label[] = 'All';
		if (!array_key_exists('types_filter', $user_river_column_options) && !array_key_exists('subtypes_filter', $user_river_column_options) || $user_river_column_options['types_filter'] == 'All' ) $types_value[] = 'All';
		if (!empty($registered_entities)) {
			foreach ($registered_entities as $type => $subtypes) {
				// subtype will always be an array.
				if (!count($subtypes)) {
					$label = str_replace( 'Show ', '', elgg_echo('river:select', array(elgg_echo("item:$type"))) );
					$types_label[$label] .= $type;
					if (in_array($type, $user_river_column_options['types_filter'])) $types_value[] = $type;
				} else {
					foreach ($subtypes as $subtype) {
						$label = str_replace( 'Show ', '', elgg_echo('river:select', array(elgg_echo("item:$type:$subtype"))) );
						$subtypes_label[$label] .= $subtype;
						if (in_array($subtype, $user_river_column_options['subtypes_filter'])) $subtypes_value[] = $subtype;
					}
				}
			}
			echo elgg_view('input/checkboxes', array(
								'name' => 'filters_types',
								'value' => $types_value,
								'options' => $types_label,
								));
			echo elgg_view('input/checkboxes', array(
								'name' => 'filters_subtypes',
								'value' => $subtypes_value,
								'options' => $subtypes_label,
								));
		} ?>
	</div>
	<ul class='box-settings'>
	<li>
		<label><?php echo elgg_echo('deck_river:type'); ?></label><br />
		<?php echo elgg_view('input/dropdown', array(
			'name' => 'type',
			'value' => $user_river_column_options['type'],
			'class' => 'column-type',
			'options_values' => array(
					'all' => elgg_echo('river:all'),
					'friends' => elgg_echo('river:friends'),
					'mine' => elgg_echo('river:mine'),
					'mention' => 'Mention @' . get_entity($owner)->name,
					'search' => elgg_echo('search')
				)
			)); ?>
	</li>
	<li class='search-type'>
		<label><?php echo elgg_echo('deck_river:title'); ?></label><br />
		<?php echo elgg_view('input/text', array(
			'name' => 'title',
			'value' => $user_river_column_options['title']
		)); ?>
	</li>
	<li class='search-type'>
		<label><?php echo elgg_echo('deck_river:search'); ?></label><br />
		<?php echo elgg_view('input/text', array(
			'name' => 'search',
			'value' => $user_river_column_options['search']
		)); ?>
	</li>
	</ul>
</div>
<div>
<?php echo elgg_view('input/submit', array(
		'value' => 'save',
		'name' => elgg_echo('save')
));
if ($new != 'true') {
	echo elgg_view('input/submit', array(
			'value' => 'delete',
			'name' => elgg_echo('delete'),
			'class' => 'mls'
	));
} ?>
</div>
*/